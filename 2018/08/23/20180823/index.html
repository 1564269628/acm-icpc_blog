<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <!--rewrit http to https-->
  <script type="text/javascript">
      var targetProtocol = "https:";
      if (window.location.protocol != targetProtocol && window.location.host != "localhost:4000")
          window.location.href = targetProtocol + window.location.href.substring(window.location.protocol.length);
  </script>
  <!--20190528-->

  <!--add new google in 20190502-->
  <meta name="google-site-verification" content="EMoSEE-nLoAdIHWBDmdYpa0t4XBCF8aLYOM3ayoI0pI">	
  <meta charset="utf-8">
  
  <title>算法竞赛入门：基础算法(一) | 步履不停</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="algorithm">
  
  
  
  
  <meta name="description" content="函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题">
<meta name="keywords" content="algorithm">
<meta property="og:type" content="article">
<meta property="og:title" content="算法竞赛入门：基础算法(一)">
<meta property="og:url" content="https://www.fogsail.net/2018/08/23/20180823/index.html">
<meta property="og:site_name" content="步履不停">
<meta property="og:description" content="函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/ancient-cipher.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/ancient-cipher.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/message-decoding.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/sheet-tracking.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/sheet-tracking2.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/typical-homework1.png">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/typical-homework2.png">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/typical-homework3.png">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/typical-homework4.png">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/othello1.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/othello2.jpg">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/squares1.png">
<meta property="og:image" content="https://www.fogsail.net/2018/08/23/20180823/squares2.png">
<meta property="og:updated_time" content="2019-03-07T03:58:14.441Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="算法竞赛入门：基础算法(一)">
<meta name="twitter:description" content="函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题">
<meta name="twitter:image" content="https://www.fogsail.net/2018/08/23/20180823/ancient-cipher.jpg">
  
    <link rel="alternate" href="/atom.xml" title="步履不停" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  
  <script src="//msite.baidu.com/sdk/c.js?appid=1593711792635024"></script>

  <!--baidu-ldjson-->
  <!--以下是新添加的内容-->
  <script type="application/ld+json">
    {
        "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
        "@id": "http://www.fogsail.net/2018/08/23/20180823/",
        "appid": "1593711792635024",
        "title": "算法竞赛入门：基础算法(一)",
        "images": [
        "http://www.fogsail.net/2018/08/23/20180823/01.png",
        "http://www.fogsail.net/2018/08/23/20180823/01.jpg"
        ], //请在此处添加希望在搜索结果中展示图片的url，可以添加1个或3个url
        "pubDate": "2018-08-23T08:18:00" // 需按照yyyy-mm-ddThh:mm:ss格式编写时间，字母T不能省去
    }
</script>

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;" href="#" data-toggle="modal" data-target="#myModal">
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">所有文章</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于我</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder>
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </ul></div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-20180823" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      算法竞赛入门：基础算法(一)
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/23/20180823/" class="article-date">
	  <time datetime="2018-08-23T12:18:00.000Z" itemprop="datePublished">2018-08-23</time>
	</a>

      
    <a class="article-category-link" href="/categories/algorithm/">algorithm</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题<br><img src="/2018/08/23/20180823/ancient-cipher.jpg" width:30%><br><a id="more"></a></p>
<h2 id="Ancient-Cipher"><a href="#Ancient-Cipher" class="headerlink" title="Ancient Cipher"></a><a href="https://vjudge.net/problem/UVA-1339" target="_blank" rel="noopener">Ancient Cipher</a></h2><p>核心算法图解：</p>
<p><img src="/2018/08/23/20180823/ancient-cipher.jpg" alt="ancient-cipher"></p>
<p>实现方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdlib&gt;</span></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int cmp(const void *a,const void *b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">return</span> *(int *)a - *(int *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    char s1[200], s2[200];</span><br><span class="line">    <span class="keyword">while</span>((scanf(<span class="string">"%s%s"</span>,s1,s2)==2))</span><br><span class="line">    &#123;</span><br><span class="line">        int n = strlen(s1);</span><br><span class="line">        int cnt1[26]=&#123;0&#125;, cnt2[26]=&#123;0&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">            cnt1[ s1[i]-<span class="string">'A'</span> ]++;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">            cnt2[ s2[i]-<span class="string">'A'</span> ]++;</span><br><span class="line">        </span><br><span class="line">        qsort(cnt1,26,sizeof(int),cmp);</span><br><span class="line">        qsort(cnt2,26,sizeof(int),cmp);</span><br><span class="line"></span><br><span class="line">        int flag = 1;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0 ; i &lt; 26; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt1[i] != cnt2[i])</span><br><span class="line">                flag = 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="message-decoding"><a href="#message-decoding" class="headerlink" title="message-decoding"></a><a href="https://vjudge.net/problem/UVA-213" target="_blank" rel="noopener">message-decoding</a></h2><p>算法图解：</p>
<p><img src="/2018/08/23/20180823/message-decoding.jpg" alt="message-decoding"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">int code[8][1&lt;&lt;8];</span><br><span class="line">//二进制编码</span><br><span class="line">//code[len][val]，len表示编码长度</span><br><span class="line">//val表示二进制编码所对应的十进制的值</span><br><span class="line">//code[len][val]表示这个编码所对应的字符‘</span><br><span class="line"></span><br><span class="line">//处理换行读入问题</span><br><span class="line">int readchar()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        int ch = getchar();</span><br><span class="line">        <span class="keyword">if</span>(ch != <span class="string">'\n'</span> &amp;&amp; ch != <span class="string">'\r'</span>)</span><br><span class="line">            <span class="built_in">return</span> ch;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//执行功能：一个一个字母读入</span><br><span class="line">//绕过<span class="string">'\n'</span> <span class="string">'\r'</span>执行输出</span><br><span class="line"></span><br><span class="line">//按位读入二进制数并且转换为十进制整数</span><br><span class="line">int getint(int bits)</span><br><span class="line">&#123;</span><br><span class="line">    int val = 0;</span><br><span class="line">    <span class="keyword">while</span>(bits--)</span><br><span class="line">    &#123;</span><br><span class="line">        // v = v * 2 means v &lt;&lt; 1</span><br><span class="line">        val = val * 2 + readchar() - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int readcodes()</span><br><span class="line">&#123;</span><br><span class="line">    memset(code,0,sizeof(code));</span><br><span class="line">    code[1][0] = readchar();</span><br><span class="line">    //用来储存编码头代表的译码</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int len = 2; len &lt;= 7; len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int v = 0; v &lt; (1&lt;&lt;len)-1; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            int ch = getchar();</span><br><span class="line">            <span class="keyword">if</span>(ch == EOF)</span><br><span class="line">                <span class="built_in">return</span> 0;</span><br><span class="line">            <span class="keyword">if</span>(ch == <span class="string">'\n'</span> || ch == <span class="string">'\r'</span>)</span><br><span class="line">                <span class="built_in">return</span> 1;</span><br><span class="line">            code[len][v] = ch;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 1;</span><br><span class="line">&#125;</span><br><span class="line">//对编码头信息的解码</span><br><span class="line">//表示编码内容读取的长度</span><br><span class="line"></span><br><span class="line">void printcodes()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int len = 1; len &lt;= 7; len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int v = 0; v &lt; (1&lt;&lt;len)-1; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(code[len][v] == 0)</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            //<span class="built_in">printf</span>(<span class="string">"code[%d][%d] = %c\n"</span>,len,v,code[len][v]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(readcodes())</span><br><span class="line">    //input codes，输入第一行的编码</span><br><span class="line">    &#123;</span><br><span class="line">        printcodes();</span><br><span class="line">        <span class="keyword">for</span>(;;)</span><br><span class="line">        &#123;</span><br><span class="line">            int len = getint(3);</span><br><span class="line">            <span class="keyword">if</span>(len == 0)</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            // 000 quit</span><br><span class="line">            </span><br><span class="line">            //<span class="built_in">printf</span>(<span class="string">"len = %d\n"</span>,len);</span><br><span class="line">            <span class="keyword">for</span>(;;)</span><br><span class="line">            &#123;</span><br><span class="line">                int val = getint(len);</span><br><span class="line">                <span class="keyword">if</span>(val == (1&lt;&lt;len)-1 )</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                putchar(code[len][val]);</span><br><span class="line">                //<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        putchar(<span class="string">'\n'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="spreadsheet-tracking-用2种方法，用flag简化计算"><a href="#spreadsheet-tracking-用2种方法，用flag简化计算" class="headerlink" title="spreadsheet-tracking 用2种方法，用flag简化计算"></a><a href="https://vjudge.net/problem/UVA-512" target="_blank" rel="noopener">spreadsheet-tracking</a> 用2种方法，用flag简化计算</h2><h3 id="直接模拟"><a href="#直接模拟" class="headerlink" title="直接模拟"></a>直接模拟</h3><p><img src="/2018/08/23/20180823/sheet-tracking.jpg" alt="sheet-tracking"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxd 100</span></span><br><span class="line"><span class="comment">#define BIG 10000</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int sh[maxd][maxd], sh_buf[maxd][maxd], ans[maxd][maxd];</span><br><span class="line">int row, col;</span><br><span class="line">int begr, begc;</span><br><span class="line">int change[maxd];</span><br><span class="line"></span><br><span class="line">// int oldr,oldc;</span><br><span class="line">// int newr,newc;</span><br><span class="line"></span><br><span class="line">void init()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= col; j++)</span><br><span class="line">            sh[i][j] = i*BIG+j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void movesh(char <span class="built_in">type</span>,int fresh,int old)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'R'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= col; i++)</span><br><span class="line">            sh[fresh][i] = sh_buf[old][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">            sh[i][fresh] = sh_buf[i][old];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//算法处理一：用<span class="built_in">type</span>==<span class="string">'R'</span>，选择的方式，来把行变换和列变换统一起来</span><br><span class="line"></span><br><span class="line">void del(char <span class="built_in">type</span>)</span><br><span class="line">&#123;</span><br><span class="line">    // memset(sh_buf,0,sizeof(sh_buf));</span><br><span class="line">    //memset(change,0,sizeof(change));</span><br><span class="line">    memcpy(sh_buf,sh,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    int way = (<span class="built_in">type</span> == <span class="string">'R'</span> ? row : col);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= way; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(change[i] == 0)</span><br><span class="line">            movesh(<span class="built_in">type</span>,++cnt,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'R'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        row = cnt;</span><br><span class="line">        <span class="keyword">for</span>(int i = row+1; i &lt;= way; i++)</span><br><span class="line">            <span class="keyword">for</span>(int j = 1; j &lt;= col; j++)</span><br><span class="line">                sh[i][j] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        col = cnt;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">            <span class="keyword">for</span>(int j = col+1; j &lt;= way; j++)</span><br><span class="line">                sh[i][j] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void printsheet()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt;= row+2; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 0; j &lt;= col+2; j++)</span><br><span class="line">            cout &lt;&lt; sh[i][j] &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void insert(char <span class="built_in">type</span>)</span><br><span class="line">&#123;</span><br><span class="line">    // memset(sh_buf,0,sizeof(sh_buf));</span><br><span class="line">    memcpy(sh_buf,sh,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    int way = (<span class="built_in">type</span> == <span class="string">'R'</span> ? row : col);</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= way; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(change[i] == 1)</span><br><span class="line">            movesh(<span class="built_in">type</span>,++cnt,0);</span><br><span class="line">        movesh(<span class="built_in">type</span>,++cnt,i);</span><br><span class="line">        //这一步卡住了</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'R'</span>)</span><br><span class="line">        row = cnt;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        col = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// void reset()</span><br><span class="line">// &#123;</span><br><span class="line">//     memcpy(sh_buf,sh,sizeof(sh));</span><br><span class="line">//     <span class="keyword">for</span>(int i = 1; i &lt;= maxd; i++)</span><br><span class="line">//     &#123;</span><br><span class="line">//         <span class="keyword">for</span>(int j = 1; j &lt;= maxd; j++)</span><br><span class="line">//         &#123;</span><br><span class="line">//             <span class="keyword">if</span>(i &gt; row || j &gt; col)</span><br><span class="line">//                 sh_buf[i][j] = 0;</span><br><span class="line">//         &#125;</span><br><span class="line">//     &#125;</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    // cin &gt;&gt; row &gt;&gt; col;</span><br><span class="line">    // // begr = row, begc = col;</span><br><span class="line">    // init();</span><br><span class="line">    // memset(change,0,sizeof(change));</span><br><span class="line">    // printsheet();</span><br><span class="line">    //</span><br><span class="line">    // string cmd;</span><br><span class="line">    // cin &gt;&gt; cmd;</span><br><span class="line">    //</span><br><span class="line">    // int op_row;</span><br><span class="line">    // cin &gt;&gt; op_row;</span><br><span class="line">    // change[op_row] = 1;</span><br><span class="line">    // del(cmd[1]);</span><br><span class="line">    // // reset();</span><br><span class="line">    // printsheet();</span><br><span class="line">    // memset(change,0,sizeof(change));</span><br><span class="line">    // cmd.clear();</span><br><span class="line">    //</span><br><span class="line">    // cin &gt;&gt; cmd;</span><br><span class="line">    // int op_col;</span><br><span class="line">    // cin &gt;&gt; op_col;</span><br><span class="line">    // change[op_col] = 1;</span><br><span class="line">    // insert(cmd[1]);</span><br><span class="line">    // // reset();</span><br><span class="line">    // printsheet();</span><br><span class="line">    // 操作数必须和原来的值保持一致</span><br><span class="line">    int kase;</span><br><span class="line">    char cmd[10];</span><br><span class="line">    int sit = 0;</span><br><span class="line">    memset(sh,0,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">"%d%d%d"</span>,&amp;row,&amp;col,&amp;kase)==3 &amp;&amp; row)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (kase--)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">"%s"</span>,cmd);</span><br><span class="line">            int r1,c1,r2,c2;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">'E'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">"%d%d%d%d"</span>,&amp;r1,&amp;c1,&amp;r2,&amp;c2);</span><br><span class="line">                swap(sh[r1][c1],sh[r2][c2]);</span><br><span class="line">                // printsheet();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                int oper;</span><br><span class="line">                scanf(<span class="string">"%d"</span>,&amp;oper);</span><br><span class="line">                memset(change,0,sizeof(change));</span><br><span class="line">                //算法处理二：用change[]来标记需要处理的行/列</span><br><span class="line">                //把要操作的数全部选出来</span><br><span class="line">                <span class="keyword">for</span>(int i = 0; i &lt; oper; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    //memset(change,0,sizeof(change));</span><br><span class="line">                    int cur;</span><br><span class="line">                    // int r1,c1,r2,c2;</span><br><span class="line">                    scanf(<span class="string">"%d"</span>,&amp;cur);</span><br><span class="line">                    change[cur] = 1;</span><br><span class="line">                &#125;</span><br><span class="line">                //将change标记预先选出来</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(cmd[0] == <span class="string">'D'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    //change[cur] = 1;</span><br><span class="line">                    del(cmd[1]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cmd[0] == <span class="string">'I'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    //change[cur] = 1;</span><br><span class="line">                    insert(cmd[1]);</span><br><span class="line">                &#125;</span><br><span class="line">                // printsheet();</span><br><span class="line">                // printsheet();</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       memset(ans,0,sizeof(ans));</span><br><span class="line">       //这是一个好习惯！</span><br><span class="line">       //所有全局变量在赋值之前需要初始化</span><br><span class="line">       <span class="keyword">for</span>(int i = 0; i &lt;= row; i++)</span><br><span class="line">       &#123;</span><br><span class="line">          <span class="keyword">for</span>(int j = 0; j &lt;= col; j++)</span><br><span class="line">          &#123;</span><br><span class="line">              ans[sh[i][j]/BIG][sh[i][j]%BIG] = i*BIG+j;</span><br><span class="line">              //算法处理三：ans相当于一个<span class="built_in">hash</span> map</span><br><span class="line">              //将原来的坐标ans[sh[r]/BIG][sh[c]%BIG] --&gt; newr*BIG+newc</span><br><span class="line">              //这样最后查询(qr,qc),直接用ans[qr][qc]就可以了</span><br><span class="line">              //ans[qr][qc]/BIG   ---    ans[qr][qc]%BIG就是最后的结论</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(sit &gt; 0)</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">"Spreadsheet #%d\n"</span>,++sit);</span><br><span class="line"></span><br><span class="line">       int query;</span><br><span class="line">       int rq,cq;</span><br><span class="line">       scanf(<span class="string">"%d"</span>,&amp;query);</span><br><span class="line">       <span class="keyword">while</span>(query--)</span><br><span class="line">       &#123;</span><br><span class="line">            <span class="keyword">if</span>(scanf(<span class="string">"%d%d"</span>,&amp;rq,&amp;cq) == 2 &amp;&amp; rq)</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="built_in">printf</span>(<span class="string">"Cell data in (%d,%d) "</span>,rq,cq);</span><br><span class="line">              int data = ans[rq][cq];</span><br><span class="line">              <span class="keyword">if</span>(data == 0)</span><br><span class="line">                  <span class="built_in">printf</span>(<span class="string">"GONE\n"</span>);</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                  <span class="built_in">printf</span>(<span class="string">"moved to (%d,%d)\n"</span>,data/BIG,data%BIG);</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用结构体简化"><a href="#使用结构体简化" class="headerlink" title="使用结构体简化"></a>使用结构体简化</h3><p><img src="/2018/08/23/20180823/sheet-tracking2.jpg" alt="sheet-tracking2"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxd 10000</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">struct Command</span><br><span class="line">&#123;</span><br><span class="line">    char c[5];</span><br><span class="line">    int r1, c1, r2, c2;</span><br><span class="line">    int op_n, change[20];</span><br><span class="line">&#125; cmd[maxd];</span><br><span class="line"></span><br><span class="line">int row, col, cn;</span><br><span class="line">int oldr, oldc;</span><br><span class="line">int rq,cq;</span><br><span class="line"></span><br><span class="line">// int flag = 1;</span><br><span class="line"></span><br><span class="line">bool operation(int* rq, int* cq)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; cn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">'E'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cmd[i].r1 == *rq &amp;&amp; cmd[i].c1 == *cq)</span><br><span class="line">            &#123;</span><br><span class="line">                *rq = cmd[i].r2;</span><br><span class="line">                *cq = cmd[i].c2;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cmd[i].r2 == *rq &amp;&amp; cmd[i].c2 == *cq)</span><br><span class="line">            &#123;</span><br><span class="line">                *rq = cmd[i].r1;</span><br><span class="line">                *cq = cmd[i].c1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //other Command</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            int dr = 0, dc = 0;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">'I'</span>)</span><br><span class="line">            //INSERT</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'R'</span> &amp;&amp; cmd[i].change[j] &lt;= *rq)</span><br><span class="line">                        //cmd[i].change[j] --&gt; row insert</span><br><span class="line">                        dr++;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'C'</span> &amp;&amp; cmd[i].change[j] &lt;= *cq)</span><br><span class="line">                        //col insert;</span><br><span class="line">                        dc++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">'D'</span>)</span><br><span class="line">            //delete</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'R'</span> &amp;&amp; cmd[i].change[j] == *rq)</span><br><span class="line">                        <span class="built_in">return</span> 0;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'C'</span> &amp;&amp; cmd[i].change[j] == *cq)</span><br><span class="line">                        <span class="built_in">return</span> 0;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'R'</span> &amp;&amp; cmd[i].change[j] &lt; *rq)</span><br><span class="line">                        dr--;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">'C'</span> &amp;&amp; cmd[i].change[j] &lt; *cq)</span><br><span class="line">                        dc--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            *rq += dr;</span><br><span class="line">            *cq += dc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    // int row,col,cn;</span><br><span class="line">    // int rq, cq;</span><br><span class="line">    int kase = 0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">"%d%d%d"</span>,&amp;row,&amp;col,&amp;cn) == 3 &amp;&amp; row)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; cn; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">"%s"</span>,cmd[i].c);</span><br><span class="line">            // cout &lt;&lt; cmd[i].c[0] &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">'E'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">"%d%d%d%d"</span>,&amp;cmd[i].r1,&amp;cmd[i].c1,&amp;cmd[i].r2,&amp;cmd[i].c2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">"%d"</span>,&amp;cmd[i].op_n);</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                    scanf(<span class="string">"%d"</span>,&amp;cmd[i].change[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //QUERY:</span><br><span class="line">        <span class="keyword">if</span>(kase &gt; 0)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Spreadsheet #%d\n"</span>,++kase);</span><br><span class="line"></span><br><span class="line">        int query;</span><br><span class="line">        scanf(<span class="string">"%d"</span>,&amp;query);</span><br><span class="line">        <span class="keyword">while</span>(query--)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">"%d%d"</span>,&amp;rq,&amp;cq);</span><br><span class="line"></span><br><span class="line">            oldr = rq; oldc = cq;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Cell data in (%d,%d) "</span>,oldr,oldc);</span><br><span class="line">            int flag = operation(&amp;rq,&amp;cq);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flag == 0)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"GONE\n"</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"moved to (%d,%d)\n"</span>,rq,cq);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="A-Typical-Homework"><a href="#A-Typical-Homework" class="headerlink" title="A Typical Homework"></a><a href="https://vjudge.net/problem/UVA-12412" target="_blank" rel="noopener">A Typical Homework</a></h2><p>这题目我AC了整整十几次！</p>
<p>记录一下自己弄错的地方</p>
<p><img src="/2018/08/23/20180823/typical-homework1.png" alt="typical-homework1"></p>
<p><img src="/2018/08/23/20180823/typical-homework2.png" alt="typical-homework2"></p>
<p><img src="/2018/08/23/20180823/typical-homework3.png" alt="typical-homework3"></p>
<p><img src="/2018/08/23/20180823/typical-homework4.png" alt="typical-homework4"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define EPS 1e-5</span></span><br><span class="line"><span class="comment">#define maxs 105</span></span><br><span class="line">//105 students</span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxid 105</span></span><br><span class="line">//15 digits</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//int n;</span><br><span class="line">//int removed[maxs] = &#123;0&#125;;</span><br><span class="line"></span><br><span class="line">int subject[6];</span><br><span class="line">//subject[1] pass subject 1 --&gt; subject[2] pass subject 2</span><br><span class="line">int lastid = 0;</span><br><span class="line"></span><br><span class="line">typedef struct Students</span><br><span class="line">&#123;</span><br><span class="line">    bool removed;</span><br><span class="line">    char sid[maxid];</span><br><span class="line">    int cid;</span><br><span class="line">    char name[maxid];</span><br><span class="line"></span><br><span class="line">    int chinese;</span><br><span class="line">    int math;</span><br><span class="line">    int english;</span><br><span class="line">    int coding;</span><br><span class="line"></span><br><span class="line">//    int rank;</span><br><span class="line">    int totscore;</span><br><span class="line"></span><br><span class="line">    bool operator &lt; (const Students&amp; s) const&#123;</span><br><span class="line">        <span class="built_in">return</span> totscore &gt; s.totscore;</span><br><span class="line">    &#125;</span><br><span class="line">    Students()</span><br><span class="line">    &#123;</span><br><span class="line">        memset(this,0,sizeof(Students));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;students;</span><br><span class="line"></span><br><span class="line">typedef struct Klass</span><br><span class="line">&#123;</span><br><span class="line">    int totstu;</span><br><span class="line"></span><br><span class="line">    int score[4];</span><br><span class="line">    int pass[4];</span><br><span class="line"></span><br><span class="line">    Klass()</span><br><span class="line">    &#123;</span><br><span class="line">        memset(this,0,sizeof(Klass));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;klass;</span><br><span class="line"></span><br><span class="line">//vector&lt;klass&gt; kl(maxs);</span><br><span class="line"></span><br><span class="line">klass kl[maxs + 5];</span><br><span class="line">vector&lt;students&gt; stu;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bool valid(students fresh)</span><br><span class="line">&#123;</span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(! (*it).removed )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(strcmp((*it).sid, fresh.sid) == 0)</span><br><span class="line">                <span class="built_in">return</span> 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void add()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        students fresh;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Please enter the SID, CID, name and four scores. Enter 0 to finish.\n"</span>);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,fresh.sid);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(strcmp(fresh.sid, <span class="string">"0"</span>) == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">        scanf(<span class="string">"%d%s%d%d%d%d"</span>,&amp;fresh.cid,fresh.name,&amp;fresh.chinese,&amp;fresh.math,&amp;fresh.english,&amp;fresh.coding);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(valid(fresh))</span><br><span class="line">        &#123;</span><br><span class="line">            fresh.totscore = fresh.chinese + fresh.math + fresh.english + fresh.coding;</span><br><span class="line">            fresh.removed = 0;</span><br><span class="line"></span><br><span class="line">            int k = fresh.cid;</span><br><span class="line">            kl[k].score[0] += fresh.chinese;</span><br><span class="line">            kl[k].score[1] += fresh.math;</span><br><span class="line">            kl[k].score[2] += fresh.english;</span><br><span class="line">            kl[k].score[3] += fresh.coding;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(fresh.chinese &gt;= 60)   kl[k].pass[0]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.math &gt;= 60)  kl[k].pass[1]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.english &gt;= 60)   kl[k].pass[2]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.coding &gt;= 60)    kl[k].pass[3]++;</span><br><span class="line"></span><br><span class="line">            kl[k].totstu++;</span><br><span class="line">            stu.push_back(fresh);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Duplicated SID.\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//add() finished!</span><br><span class="line"></span><br><span class="line">int getrank(students cur)</span><br><span class="line">&#123;</span><br><span class="line">    int r = 0;</span><br><span class="line"></span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); ((*it).sid != cur.sid) &amp;&amp; it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!((*it).removed) &amp;&amp; (*it).totscore &gt; cur.totscore)</span><br><span class="line">            r++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> r+1;</span><br><span class="line">&#125;</span><br><span class="line">//rank() finished</span><br><span class="line"></span><br><span class="line">void DQ(int isq)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        char choose[maxs];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Please enter SID or name. Enter 0 to finish.\n"</span>);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,choose);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(strcmp(choose,<span class="string">"0"</span>) == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">        int cal = 0;</span><br><span class="line">        vector&lt;students&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(*it).removed)</span><br><span class="line">            &#123;</span><br><span class="line">//                cout &lt;&lt; stu[i].sid &lt;&lt; <span class="string">"--&gt;"</span> &lt;&lt; choose &lt;&lt; endl;</span><br><span class="line">//                cout &lt;&lt; stu[i].name &lt;&lt; <span class="string">"--&gt;"</span> &lt;&lt; choose &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">if</span>(strcmp((*it).sid,choose) == 0 || strcmp((*it).name,choose) == 0 )</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(isq)</span><br><span class="line">                        //<span class="built_in">printf</span>(<span class="string">"%d %s %d %s %d %d %d %d %d %.2f\n"</span>, stu[i].rank, stu[i].sid, stu[i].cid, stu[i].name,stu[i].chinese,stu[i].math,stu[i].english,stu[i].coding,stu[i].totscore,stu[i].totscore/4.0+EPS);</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d %s %d %s %d %d %d %d %d %.2f\n"</span>,getrank(*it),(*it).sid, (*it).cid, (*it).name,(*it).chinese,(*it).math,(*it).english,(*it).coding,(*it).totscore,(*it).totscore/4.0+EPS);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        (*it).removed = 1;</span><br><span class="line"></span><br><span class="line">                        //removed students also infect klass</span><br><span class="line">                        int rid = (*it).cid;</span><br><span class="line"></span><br><span class="line">                        kl[rid].totstu--;</span><br><span class="line">                        kl[rid].score[0] -= (*it).chinese;</span><br><span class="line">                        kl[rid].score[1] -= (*it).math;</span><br><span class="line">                        kl[rid].score[2] -= (*it).english;</span><br><span class="line">                        kl[rid].score[3] -= (*it).coding;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span>((*it).chinese &gt;= 60) kl[rid].pass[0]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).math &gt;= 60) kl[rid].pass[1]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).english &gt;= 60) kl[rid].pass[2]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).coding &gt;= 60) kl[rid].pass[3]--;</span><br><span class="line"></span><br><span class="line">                        cal++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">//                <span class="keyword">if</span>(!isq)</span><br><span class="line">//                    <span class="built_in">printf</span>(<span class="string">"%d student(s) removed.\n"</span>,cal);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!isq)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d student(s) removed.\n"</span>,cal);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//DQ <span class="built_in">test</span> finished!</span><br><span class="line"></span><br><span class="line">void overall_stat(int check)</span><br><span class="line">&#123;</span><br><span class="line">    memset(subject, 0, sizeof(subject));</span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(*it).removed &amp;&amp; (check == 0 || (*it).cid == check))</span><br><span class="line">        &#123;</span><br><span class="line">            int k = 0;</span><br><span class="line">            <span class="keyword">if</span>((*it).chinese &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).math &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).english &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).coding &gt;= 60) k++;</span><br><span class="line"></span><br><span class="line">            subject[k]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">//    <span class="keyword">for</span>(int i = 0; i &lt; 6; i++)</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">"pass %d : %d "</span>, i , subject[i]);</span><br><span class="line">&#125;</span><br><span class="line">//<span class="built_in">test</span> finished</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void <span class="built_in">stat</span>()</span><br><span class="line">&#123;</span><br><span class="line">    int check;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Please enter class ID, 0 for the whole statistics.\n"</span>);</span><br><span class="line">    scanf(<span class="string">"%d"</span>,&amp;check);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(check != 0)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Chinese\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)kl[check].score[0]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,kl[check].pass[0]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,kl[check].totstu-kl[check].pass[0]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Mathematics\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)kl[check].score[1]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,kl[check].pass[1]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,kl[check].totstu-kl[check].pass[1]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"English\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)kl[check].score[2]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,kl[check].pass[2]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,kl[check].totstu-kl[check].pass[2]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Programming\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)kl[check].score[3]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,kl[check].pass[3]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,kl[check].totstu-kl[check].pass[3]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        int s1=0, s2=0, s3=0, s4=0;</span><br><span class="line">        int p1=0, p2=0, p3=0, p4=0;</span><br><span class="line"></span><br><span class="line">        int m = 0;</span><br><span class="line">        vector&lt;students&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(*it).removed )</span><br><span class="line">            &#123;</span><br><span class="line">                m++;</span><br><span class="line">                s1 += (*it).chinese;</span><br><span class="line">                s2 += (*it).math;</span><br><span class="line">                s3 += (*it).english;</span><br><span class="line">                s4 += (*it).coding;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>((*it).chinese &gt;= 60)    p1++;</span><br><span class="line">                <span class="keyword">if</span>((*it).math &gt;= 60)   p2++;</span><br><span class="line">                <span class="keyword">if</span>((*it).english &gt;= 60)    p3++;</span><br><span class="line">                <span class="keyword">if</span>((*it).coding &gt;= 60)     p4++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Chinese\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)s1/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,p1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,m-p1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Mathematics\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)s2/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,p2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,m-p2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"English\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)s3/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,p3);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,m-p3);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Programming\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Average Score: %.2f\n"</span>,(double)s4/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of passed students: %d\n"</span>,p4);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Number of failed students: %d\n"</span>,m-p4);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    overall_stat(check);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Overall:\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Number of students who passed all subjects: %d\n"</span>,subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Number of students who passed 3 or more subjects: %d\n"</span>,subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Number of students who passed 2 or more subjects: %d\n"</span>,subject[2]+subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Number of students who passed 1 or more subjects: %d\n"</span>,subject[1]+subject[2]+subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Number of students who failed all subjects: %d\n"</span>,subject[0]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print_menu()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Welcome to Student Performance Management System (SPMS).\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"1 - Add\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"2 - Remove\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"3 - Query\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"4 - Show ranking\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"5 - Show Statistics\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"0 - Exit\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//void printdata(int n)</span><br><span class="line">//&#123;</span><br><span class="line">//    <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">//    &#123;</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">"%s %d %s %d %d %d %d %d rank: %d\n"</span>,stu[i].sid,stu[i].cid,stu[i].name,stu[i].chinese,stu[i].math,stu[i].english,stu[i].coding,stu[i].totscore,stu[i].rank);</span><br><span class="line">//    &#125;</span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>( ; ; )</span><br><span class="line">    &#123;</span><br><span class="line">        int choice;</span><br><span class="line">        print_menu();</span><br><span class="line">        scanf(<span class="string">"%d"</span>,&amp;choice);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(choice == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(choice == 1)</span><br><span class="line">        &#123;</span><br><span class="line">            add();</span><br><span class="line">//        cout &lt;&lt; stucnt;</span><br><span class="line">//            getrank(cnt);</span><br><span class="line">//            getklass(cnt);</span><br><span class="line">//            cout &lt;&lt; cnt &lt;&lt; <span class="string">" students "</span>&lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">//        <span class="keyword">for</span>(int i = 0; i &lt; cnt; i++)</span><br><span class="line">//            <span class="built_in">printf</span>(<span class="string">"students %s "</span>,stu[i].name);</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">"\n removed: "</span>);</span><br><span class="line">//        <span class="keyword">for</span>(int i = 0; i &lt; cnt; i++)</span><br><span class="line">//            <span class="built_in">printf</span>(<span class="string">"%d "</span>,removed[i]);</span><br><span class="line"></span><br><span class="line">//        sort(stu,stu+cnt);</span><br><span class="line"></span><br><span class="line">//        printdata(cnt);</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">"enter check : "</span>);</span><br><span class="line">//        int check;</span><br><span class="line">//        scanf(<span class="string">"%d"</span>,&amp;check);</span><br><span class="line">//        overall_stat(cnt,check,subject);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(choice == 2)</span><br><span class="line">            DQ(0);</span><br><span class="line">        <span class="keyword">if</span>(choice == 3)</span><br><span class="line">            DQ(1);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(choice == 4)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Showing the ranklist hurts students' self-esteem. Don't do that.\n"</span>);</span><br><span class="line">        <span class="keyword">if</span>(choice == 5)</span><br><span class="line">            <span class="built_in">stat</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Xiangqi"><a href="#Xiangqi" class="headerlink" title="Xiangqi"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4121" target="_blank" rel="noopener">Xiangqi</a></h2><p>这个题我也纠结了好久，就是判断是否将军，这很关键</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef struct Points</span><br><span class="line">&#123;</span><br><span class="line">    int x;</span><br><span class="line">    int y;</span><br><span class="line">    Points(int x = 0, int y = 0): x(x), y(y) &#123;&#125;</span><br><span class="line">&#125;points;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">points operator+ (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> points(A.x+B.x,A.y+B.y); &#125;</span><br><span class="line">points operator- (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> points(A.x+B.x,A.y+B.y); &#125;</span><br><span class="line">points operator* (const points&amp; A, int m) &#123; <span class="built_in">return</span> points(A.x*m,A.y*m); &#125;</span><br><span class="line">points operator/ (const points&amp; A, int m) &#123; <span class="built_in">return</span> points(A.x/m,A.y/m); &#125;</span><br><span class="line">//运算符重载，判断马腿，容易写错</span><br><span class="line">bool operator== (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> (A.x == B.x &amp;&amp; A.y == B.y); &#125;</span><br><span class="line">bool operator&lt; (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> (A.x &lt; B.x) || (A.x == B.x &amp;&amp; A.y &lt; B.y) ; &#125;</span><br><span class="line"></span><br><span class="line">char grid[16][16] = &#123;0&#125;;</span><br><span class="line">points <span class="built_in">dirs</span>[4] = &#123;points(-1,0),points(0,1),points(1,0),points(0,-1)&#125;;</span><br><span class="line">points hdirs[8] = &#123;points(2,1),points(1,2),points(-1,2),points(-2,1),points(2,-1),points(1,-2),points(-1,-2),points(-2,-1)&#125;;</span><br><span class="line"></span><br><span class="line">//红子吃掉黑子的情况要单独判断</span><br><span class="line">//要把原来的那个位置放置什么类型的棋子给放到buffer中</span><br><span class="line">//每判断一种情况后进行复原，再进行新一轮棋子的判断</span><br><span class="line"></span><br><span class="line">points blackG, redG;</span><br><span class="line">vector &lt;points&gt; redcheck;</span><br><span class="line"></span><br><span class="line">bool valid(const points&amp; p)</span><br><span class="line">&#123;</span><br><span class="line">    bool flagx = (p.x&gt;=1 &amp;&amp; p.x&lt;=3);</span><br><span class="line">    bool flagy = (p.y&gt;=4 &amp;&amp; p.y&lt;=6);</span><br><span class="line">    <span class="built_in">return</span> (flagx &amp;&amp; flagy);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool straight(const points&amp; p1,const points&amp; p2, int between)</span><br><span class="line">// chariot and cannon</span><br><span class="line">&#123;</span><br><span class="line">    int lx = min(p1.x,p2.x);</span><br><span class="line">    int hx = max(p1.x,p2.x);</span><br><span class="line">    int ly = min(p1.y,p2.y);</span><br><span class="line">    int hy = max(p1.y,p2.y);</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    <span class="keyword">if</span>(p1.x == p2.x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int y = ly+1; y &lt; hy; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[p1.x][y])</span><br><span class="line">                cnt++;</span><br><span class="line">            <span class="keyword">if</span>(cnt &gt; between)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> cnt == between;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p1.y == p2.y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int x = lx+1; x &lt; hx; x++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[x][p1.y])</span><br><span class="line">                cnt++;</span><br><span class="line">            <span class="keyword">if</span>(cnt &gt; between)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> cnt == between;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool checkmate(const points&amp; r, const points&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">    switch(grid[r.x][r.y])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'G'</span>:</span><br><span class="line">            <span class="built_in">return</span> r.y == b.y &amp;&amp; straight(r,b,0);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'R'</span>:</span><br><span class="line">            <span class="built_in">return</span> (r.y == b.y || r.x == b.x) &amp;&amp; straight(r,b,0);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'C'</span>:</span><br><span class="line">            <span class="built_in">return</span> (r.x == b.x || r.y == b.y) &amp;&amp; straight(r,b,1);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'H'</span>:</span><br><span class="line">            <span class="keyword">for</span>(int i = 0; i &lt; 8; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                points hnext = r + hdirs[i];</span><br><span class="line">                points leg = r + hdirs[i]/2;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(hnext == b &amp;&amp; grid[leg.x][leg.y] == 0)</span><br><span class="line">                    <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//将军的判断，是否完成了一次成功的将军</span><br><span class="line"></span><br><span class="line">bool canwin()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(blackG.y == redG.y &amp;&amp; straight(blackG,redG,0))</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">//    bool live = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; 4; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        points bnext = blackG + <span class="built_in">dirs</span>[i];</span><br><span class="line">        bool live = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!valid(bnext))</span><br><span class="line">            <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">        char buffer = grid[bnext.x][bnext.y];</span><br><span class="line">        grid[bnext.x][bnext.y] = 0;</span><br><span class="line"></span><br><span class="line">        //红子吃掉黑子的情况要单独判断</span><br><span class="line">        //要把原来的那个位置放置什么类型的棋子给放到buffer中</span><br><span class="line">        //每判断一种情况后进行复原，再进行新一轮棋子的判断</span><br><span class="line">        //这里是特别需要注意的</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(vector&lt;points&gt;::iterator it = redcheck.begin(); it != redcheck.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            points rcur = *it;</span><br><span class="line">            <span class="keyword">if</span>(grid[rcur.x][rcur.y] &amp;&amp; checkmate(rcur,bnext))</span><br><span class="line">            &#123;</span><br><span class="line">                live = <span class="literal">false</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[bnext.x][bnext.y] = buffer;</span><br><span class="line">        <span class="keyword">if</span>(live)</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int kase;</span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">"%d%d%d"</span>,&amp;kase,&amp;(blackG.x),&amp;(blackG.y))==3 &amp;&amp; kase)</span><br><span class="line">    &#123;</span><br><span class="line">        redcheck.clear();</span><br><span class="line">        memset(grid,0,sizeof(grid));</span><br><span class="line"></span><br><span class="line">        char <span class="built_in">type</span>;</span><br><span class="line">        int x,y;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(kase)</span><br><span class="line">        &#123;</span><br><span class="line">//            cout &lt;&lt; <span class="string">"kase: "</span> &lt;&lt; kase &lt;&lt; endl;</span><br><span class="line">            cin &gt;&gt; <span class="built_in">type</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">            points p(x,y);</span><br><span class="line">            redcheck.push_back(p);</span><br><span class="line">            grid[p.x][p.y] = <span class="built_in">type</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'G'</span>)</span><br><span class="line">                redG = p;</span><br><span class="line">            kase--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(canwin())</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="keyword">if</span>(!canwin())</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="othello"><a href="#othello" class="headerlink" title="othello"></a><a href="https://vjudge.net/problem/UVA-220" target="_blank" rel="noopener">othello</a></h2><p>这是我当时最快速度ac的题目，纪念一下</p>
<p>特别注意一下优先队列和一些排序</p>
<p><img src="/2018/08/23/20180823/othello1.jpg" alt="othello1"><br><img src="/2018/08/23/20180823/othello2.jpg" alt="othello2"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;set&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">#include &lt;map&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef struct points</span><br><span class="line">&#123;</span><br><span class="line">    int row;</span><br><span class="line">    int col;</span><br><span class="line">    points(int row = 0, int col = 0):row(row),col(col) &#123;&#125;</span><br><span class="line">&#125;pos;</span><br><span class="line"></span><br><span class="line">bool operator&lt; (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row&lt;B.row) || (A.row==B.row &amp;&amp; A.col&lt;B.col);&#125;</span><br><span class="line">bool operator== (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row==B.row) &amp;&amp; (A.col==B.col);&#125;</span><br><span class="line">bool operator!= (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row!=B.row) || (A.col!=B.col);&#125;</span><br><span class="line">pos operator+ (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> pos(A.row+B.row,A.col+B.col);&#125;</span><br><span class="line">pos operator- (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> pos(A.row-B.row,A.col-B.col);&#125;</span><br><span class="line"></span><br><span class="line">char board[16][16];</span><br><span class="line">bool mark[16][16];</span><br><span class="line">char player;</span><br><span class="line"></span><br><span class="line">pos dr1[4] = &#123;pos(-1,0),pos(-1,1),pos(0,1),pos(1,1)&#125;;</span><br><span class="line">pos dr2[4] = &#123;pos(1,0),pos(1,-1),pos(0,-1),pos(-1,-1)&#125;;</span><br><span class="line">pos walk[8] = &#123;pos(-1,0),pos(-1,1),pos(0,1),pos(1,1),pos(1,0),pos(1,-1),pos(0,-1),pos(-1,-1)&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;pos&gt; res;</span><br><span class="line">map&lt;pos,int&gt; dir;</span><br><span class="line">//remember clear()!</span><br><span class="line"></span><br><span class="line">bool valid(const pos&amp; p)</span><br><span class="line">&#123;</span><br><span class="line">    bool flag1 = p.row &gt;= 1 &amp;&amp; p.row &lt;= 8;</span><br><span class="line">    bool flag2 = p.col &gt;= 1 &amp;&amp; p.col &lt;= 8;</span><br><span class="line">    <span class="built_in">return</span> flag1 &amp;&amp; flag2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool empty(const pos&amp; p)&#123;</span><br><span class="line">    <span class="built_in">return</span> board[p.row][p.col] == <span class="string">'-'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">char <span class="function"><span class="title">getboard</span></span>()&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            cin &gt;&gt; board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cin &gt;&gt; player;</span><br><span class="line">    <span class="built_in">return</span> player;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printboard(int kase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            cout &lt;&lt; board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(kase)</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void checkdisk(char opp,char curp)&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == opp)&#123;</span><br><span class="line">                pos cur(i,j);</span><br><span class="line">//                pos up = cur, down = cur;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(int k = 0; k &lt; 4; k++)&#123;</span><br><span class="line">                    pos up = cur, down = cur;</span><br><span class="line">                    <span class="keyword">do</span>&#123;</span><br><span class="line">                        up = up + dr1[k];</span><br><span class="line">                        <span class="keyword">if</span>(!valid(up))</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">while</span>(board[up.row][up.col] == opp);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">do</span>&#123;</span><br><span class="line">                        down = down + dr2[k];</span><br><span class="line">                        <span class="keyword">if</span>(!valid(down))</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">while</span>(board[down.row][down.col] == opp);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(!valid(up) || !valid(down))</span><br><span class="line">                        <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">                    char flag1 = board[up.row][up.col];</span><br><span class="line">                    char flag2 = board[down.row][down.col];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(flag1 == <span class="string">'-'</span> &amp;&amp; flag2 == curp)&#123;</span><br><span class="line">                        res.insert(up);</span><br><span class="line">                        dir[up] = k;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(flag1 == curp &amp;&amp; flag2 == <span class="string">'-'</span>)&#123;</span><br><span class="line">                        res.insert(down);</span><br><span class="line">                        dir[down] = k;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printpos()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">set</span>&lt;pos&gt;::iterator it;</span><br><span class="line">    int cnt = 0;</span><br><span class="line">    <span class="keyword">if</span>(!res.size())&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"No legal move."</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(it = res.begin(); it != res.end(); it++)&#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"(%d,%d)"</span>,(*it).row,(*it).col);</span><br><span class="line">            <span class="keyword">if</span>(cnt!=res.size())</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void change(const pos&amp; p, char opp, char curp)</span><br><span class="line">&#123;</span><br><span class="line">    pos start = p;</span><br><span class="line">    mark[start.row][start.col] = 1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; 8; i++)&#123;</span><br><span class="line">        pos next = p + walk[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(empty(next))</span><br><span class="line">            <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(board[next.row][next.col] == opp)&#123;</span><br><span class="line">            next = next + walk[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(board[next.row][next.col] == curp)&#123;</span><br><span class="line">            <span class="keyword">for</span>(next = next-walk[i]; next!=start; next = next-walk[i])&#123;</span><br><span class="line">                <span class="keyword">if</span>(!mark[next.row][next.col])&#123;</span><br><span class="line">                    mark[next.row][next.col] = 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(mark[i][j] == 1)&#123;</span><br><span class="line">                board[i][j] = curp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pos <span class="function"><span class="title">getmove</span></span>()&#123;</span><br><span class="line">    int row,col;</span><br><span class="line">    cin &gt;&gt; row &gt;&gt; col;</span><br><span class="line">    <span class="built_in">return</span> pos(row,col);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void <span class="function"><span class="title">list</span></span>()&#123;</span><br><span class="line">    int w = 0,b = 0;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'W'</span>)</span><br><span class="line">                w++;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'B'</span>)</span><br><span class="line">                b++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Black - %2d White - %2d\n"</span>,b,w);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    /*char curp = getboard();</span><br><span class="line">    char opp;</span><br><span class="line">    <span class="keyword">if</span>(curp == <span class="string">'B'</span>)</span><br><span class="line">        opp = <span class="string">'W'</span>;</span><br><span class="line">    <span class="keyword">if</span>(curp == <span class="string">'W'</span>)</span><br><span class="line">        opp = <span class="string">'B'</span>;</span><br><span class="line"></span><br><span class="line">    checkdisk(opp,curp);</span><br><span class="line">//    printdir();</span><br><span class="line">    printpos();</span><br><span class="line"></span><br><span class="line">    pos disk = getmove();</span><br><span class="line">    change(disk,opp,curp);</span><br><span class="line">    printboard();</span><br><span class="line"></span><br><span class="line">//    char cmd;</span><br><span class="line">//    cin &gt;&gt; cmd;</span><br><span class="line">//</span><br><span class="line">//    <span class="keyword">if</span>(cmd == <span class="string">'L'</span>)</span><br><span class="line">//        printpos();*/</span><br><span class="line"></span><br><span class="line">    int kase;</span><br><span class="line">    scanf(<span class="string">"%d"</span>,&amp;kase);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(kase--)&#123;</span><br><span class="line">        memset(board,0, sizeof(board));</span><br><span class="line">        memset(mark,0, sizeof(mark));</span><br><span class="line">        res.clear();</span><br><span class="line">        dir.clear();</span><br><span class="line"></span><br><span class="line">        char gamer[2];</span><br><span class="line">        gamer[0] = getboard();//cur</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(gamer[0] == <span class="string">'B'</span>)</span><br><span class="line">            gamer[1] = <span class="string">'W'</span>; //another</span><br><span class="line">        <span class="keyword">if</span>(gamer[0] == <span class="string">'W'</span>)</span><br><span class="line">            gamer[1] = <span class="string">'B'</span>;</span><br><span class="line"></span><br><span class="line">        int flag = 0;</span><br><span class="line"></span><br><span class="line">        char cmd[5];</span><br><span class="line">        <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">            scanf(<span class="string">"%s"</span>,cmd);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">'Q'</span>)&#123;</span><br><span class="line">                printboard(kase);</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">'L'</span>)&#123;</span><br><span class="line">                checkdisk(gamer[1-flag],gamer[flag]);</span><br><span class="line">                printpos();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!res.size())&#123;</span><br><span class="line">//                    memset(mark,0, sizeof(mark));</span><br><span class="line">                    flag = 1-flag;</span><br><span class="line">                    checkdisk(gamer[1-flag],gamer[flag]);</span><br><span class="line">                &#125;</span><br><span class="line">                res.clear();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">'M'</span>)&#123;</span><br><span class="line">                int x = cmd[1]-<span class="string">'0'</span>;</span><br><span class="line">                int y = cmd[2]-<span class="string">'0'</span>;</span><br><span class="line">                pos move = pos(x,y);</span><br><span class="line">                memset(mark,0,sizeof(mark));</span><br><span class="line"></span><br><span class="line">                change(move,gamer[1-flag],gamer[flag]);</span><br><span class="line">                list();</span><br><span class="line"></span><br><span class="line">//                printboard();</span><br><span class="line"></span><br><span class="line">                flag = 1-flag;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//            flag = 1-flag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="squares"><a href="#squares" class="headerlink" title="squares"></a><a href="https://vjudge.net/problem/UVA-201" target="_blank" rel="noopener">squares</a></h2><p><img src="/2018/08/23/20180823/squares1.png" alt="squares1"><br><img src="/2018/08/23/20180823/squares2.png" alt="squares2"></p>
<p>这里重点了解一下方形网格的结构体设计</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int MAXN = 16;</span><br><span class="line"></span><br><span class="line">int vexp[MAXN][MAXN],hexp[MAXN][MAXN];</span><br><span class="line">int hstart[MAXN][MAXN], vstart[MAXN][MAXN];</span><br><span class="line">int square[MAXN];</span><br><span class="line"></span><br><span class="line">int min(int a, int b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">return</span> a &lt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void getdata(int&amp; kase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(kase--)</span><br><span class="line">    &#123;</span><br><span class="line">        char <span class="built_in">type</span>;</span><br><span class="line">        int x,y;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; <span class="built_in">type</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'H'</span>)</span><br><span class="line">            hstart[x][y] = 1;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">'V'</span>)</span><br><span class="line">            vstart[y][x] = 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void stretch(int n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = n; i &gt;= 1; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = n; j &gt;= 1; j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hstart[i][j])&#123;</span><br><span class="line">                hexp[i][j] = hexp[i][j+1] + 1;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(vstart[i][j])&#123;</span><br><span class="line">                vexp[i][j] = vexp[i+1][j] + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= n; j++)&#123;</span><br><span class="line">            int mins = min(hexp[i][j],vexp[i][j]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(int len = 1; len &lt;= mins; len++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(hexp[i+len][j] &gt;= len &amp;&amp; vexp[i][j+len] &gt;= len)&#123;</span><br><span class="line">                    square[len]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    <span class="keyword">for</span>(int t = 1; scanf(<span class="string">"%d"</span>,&amp;n)==1; t++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(t &gt; 1)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n**********************************\n\n"</span>);</span><br><span class="line">        memset(vexp,0,sizeof(vexp));</span><br><span class="line">        memset(hexp,0,sizeof(hexp));</span><br><span class="line">        memset(hstart,0,sizeof(hstart));</span><br><span class="line">        memset(vstart,0,sizeof(vstart));</span><br><span class="line">        memset(square,0, sizeof(square));</span><br><span class="line"></span><br><span class="line">        int kase;</span><br><span class="line">        scanf(<span class="string">"%d"</span>,&amp;kase);</span><br><span class="line">        getdata(kase);</span><br><span class="line"></span><br><span class="line">        stretch(n);</span><br><span class="line"></span><br><span class="line">//        <span class="keyword">for</span>(int i = 0; i &lt;= n; i++)&#123;</span><br><span class="line">//            <span class="keyword">for</span>(int j = 0; j &lt;= n; j++)</span><br><span class="line">//                cout &lt;&lt; hexp[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">//            cout &lt;&lt; endl;</span><br><span class="line">//        &#125;</span><br><span class="line">//        <span class="keyword">for</span>(int i = 0; i &lt;= n; i++)&#123;</span><br><span class="line">//            <span class="keyword">for</span>(int j = 0; j &lt;= n; j++)</span><br><span class="line">//                cout &lt;&lt; vexp[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">//            cout &lt;&lt; endl;</span><br><span class="line">//        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Problem #%d\n\n"</span>,t);</span><br><span class="line">        bool flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(square[i])&#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d square (s) of size %d\n"</span>,square[i],i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"No completed squares can be found.\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: '打赏支持', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: '/css/images/wechatpay.jpg',
  alipayImage: '/css/images/alipay.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>Fogsail Chen
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2018/08/23/20180823/" target="_blank" title="算法竞赛入门：基础算法(一)">https://www.fogsail.net/2018/08/23/20180823/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>
</div></div>
      
      
        
	<section id="comments" class="comment">
		<!-- hello world! -->
		
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
		<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
		<div id="vcomments"></div>
		<script>
			new Valine({
				el: '#vcomments',
				appId: '6jvLbmDexHR56M68z5z4o66q-gzGzoHsz',
				appKey: 'WXDOtEMHclOT8f1EeGS0xDor',
				verify: true
			})
		</script>
	</section>


      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/24/20180824/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          算法竞赛入门：基础算法(二)
        
      </div>
    </a>
  
  
    <a href="/2018/03/03/20180303/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">hexo个人站点收录百度熊掌号</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ancient-Cipher"><span class="nav-number">1.</span> <span class="nav-text">Ancient Cipher</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#message-decoding"><span class="nav-number">2.</span> <span class="nav-text">message-decoding</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spreadsheet-tracking-用2种方法，用flag简化计算"><span class="nav-number">3.</span> <span class="nav-text">spreadsheet-tracking 用2种方法，用flag简化计算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#直接模拟"><span class="nav-number">3.1.</span> <span class="nav-text">直接模拟</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用结构体简化"><span class="nav-number">3.2.</span> <span class="nav-text">使用结构体简化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-Typical-Homework"><span class="nav-number">4.</span> <span class="nav-text">A Typical Homework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Xiangqi"><span class="nav-number">5.</span> <span class="nav-text">Xiangqi</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#othello"><span class="nav-number">6.</span> <span class="nav-text">othello</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#squares"><span class="nav-number">7.</span> <span class="nav-text">squares</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <!-- <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p> -->
	      <p id="copyRightEn">Copyright &copy; 2013 - 2019 步履不停 All Rights Reserved.</p>
        <p><a target="_blank" href="http://www.miitbeian.gov.cn">闽ICP备18003953号-1</a></p>
        <p>
          <img src="\css\images\gongan.png" style="float: center">
          <a target="_blank" href="http://www.miitbeian.gov.cn">闽公网安备 35010202000760号</a></p>
        <!--
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
         -->
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>

<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script>




  <script src="/js/dialog.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114571328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->






	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>



	<script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?eefa70020af0829b6b4b9a6151d8a943";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



<!-- Tencent Analytics -->
	<script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=65332004";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
<!-- End Tencent Analytics -->


  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            步履不停
          </div>
          <div class="panel-body">
            Copyright © 2019 Fogsail Chen All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>